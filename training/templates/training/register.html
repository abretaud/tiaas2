{% extends "base.html" %}
{% load static %}
{% load bootstrap3 %}


{% block head %}
<link rel="stylesheet" href="{% static 'training/css/register.css' %}">
{% endblock %}


{% block content %}

<!--
django-bootstrap template tag reference:
https://django-bootstrap3.readthedocs.io/en/latest/templatetags.html
-->

<div class="container">
	<h1>Apply for a new allocation</h1>

	<div class="my-5 text-danger">
		<p>
			<em>N.B. Placeholder text in red throughout</em>
		</p>

		<p class="lead">
			Please use this form to request a new training reservation on
			{{ settings.TIAAS_OWNER }}.
		</p>

		<p class="alert alert-success">
			<b>Hint:</b>
			Check the
			<a href="/tiaas/calendar">training calendar</a>
			before making a request!
		</p>
	</div>

	<form action="{% url 'register' %}" method="post" class="form">
		{% csrf_token %}

		<div>
			{% bootstrap_field form.name placeholder="" form_group_class="form-group short-field" %}
			{% bootstrap_field form.email placeholder="" form_group_class="form-group short-field" %}
			{% bootstrap_field form.retain_contact show_label=False %}
		</div>

		<hr>

		<h2>About the Course</h2>
		<div>
			{% bootstrap_field form.title placeholder="" %}
			{% bootstrap_field form.website placeholder="" %}
			{% bootstrap_field form.description placeholder="" %}
			<div class="row">
				{% bootstrap_field form.start form_group_class="col-md-6" %}
				{% bootstrap_field form.end form_group_class="col-md-6" %}
			</div>
			{% bootstrap_field form.location form_group_class="form-group short-field" %}
			{% bootstrap_field form.training_identifier  form_group_class="form-group short-field" %}
		</div>

		<hr>

		<h2>Estimating Resource Usage</h2>

		<p class="text-danger">
			{% lorem 5 w %}
		</p>

		<div>
			{% bootstrap_field form.use_gtn form_group_class="form-group x-short-field" show_label=True %}
			{% bootstrap_field form.gtn_links form_group_class="form-group" placeholder="" %}
			{% bootstrap_field form.non_gtn_links form_group_class="form-group" placeholder="" %}
			{% bootstrap_field form.attendance form_group_class="form-group x-short-field" show_label=True placeholder="" %}
		</div>

		{% if settings.TIAAS_SHOW_ADVERTISING %}

		<hr>

		<h2>Advertising</h2>

		<p class="text-danger">
			{% lorem 5 w %}
		</p>

		<div>
			{% bootstrap_field form.advertise show_label=True form_group_class="form-group x-short-field" %}
			<br>
			{% bootstrap_field form.blogpost form_group_class="form-group" %}
		</div>
		{% else %}
		{{ form.advertise.as_hidden }}
		{{ form.blogpost.as_hidden }}
		{% endif %}

		<hr>

		<br><br>

		<p class="lead">Anything else to add?</p>

		<div>
			{% bootstrap_field form.other_requests show_label=False placeholder="Comments" %}
		</div>

		{% buttons %}
		<button type="submit" class="btn btn-primary">
			{% bootstrap_icon "star" %} Submit
		</button>
		{% endbuttons %}
	</form>
</div>

{% endblock %}


{% block script %}
<script type="text/javascript">
	$(document).ready( () => {
		// Validation functions
	})
</script>
{% endblock %}
